import{r as o,j as c,a as Se,u as Ve,c as $e,L as He,O as ze}from"./main-VyRsR0rF.js";import{u as Ge}from"./useSuspenseQuery-DWt-qX43.js";import{z as Q,a as H,Z as Ue,_ as p,b as qe,c as Ke,d as Qe,e as Je,f as Xe,g as Ye,h as et,i as tt,j as nt,k as rt,l as at,m as ot,p as it,n as lt,o as je,P as st,q as ut,u as ct,r as dt,s as pt,D as ft,t as mt,v as gt,w as ht,x as le}from"./constraint-D0M3rZYh.js";const vt=Q.object({_id:Q.string().cuid2(),name:Q.string(),nameShort:Q.string(),slug:Q.string()}),xe=vt.omit({_id:!0});function J(e){if(typeof e!="string")return e;if(e!=="")return e}function bt(e){if(!(typeof File<"u"&&e instanceof File&&e.name===""&&e.size===0))return e}function yt(e){return typeof e!="string"||e.trim()===""?e:Number(e)}function wt(e){return typeof e!="string"?e:e==="on"?!0:e}function xt(e){if(typeof e!="string")return e;var n=new Date(e);return isNaN(n.getTime())?e:n}function Et(e){if(typeof e!="string"||e.trim()==="")return e;try{return BigInt(e)}catch{return e}}function Nt(e){return typeof File>"u"?!1:e._def.effect.type==="refinement"&&e.innerType()._def.typeName==="ZodAny"&&e.safeParse(new File([],"")).success&&!e.safeParse("").success}function L(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a=>a;return a=>t(n(e(a)))}function St(e,n){var t=e._def;if(t.typeName==="ZodString"||t.typeName==="ZodEnum"||t.typeName==="ZodNativeEnum")return n.string;if(t.typeName==="ZodLiteral"){var a=e.value;return typeof a=="number"?n.number:typeof a=="boolean"?n.boolean:typeof a=="bigint"?n.bigint:n.string}else{if(t.typeName==="ZodEffects"&&Nt(e))return n.file;if(t.typeName==="ZodNumber")return n.number;if(t.typeName==="ZodBoolean")return n.boolean;if(t.typeName==="ZodDate")return n.date;if(t.typeName==="ZodBigInt")return n.bigint}return null}function v(e,n){var t=n.cache.get(e);if(t)return t;var a=e,r=e._def,u=n.coerce(e);if(u)a=H().transform(u).pipe(e);else if(r.typeName==="ZodArray")a=H().transform(l=>Array.isArray(l)?l:typeof l>"u"||typeof n.stripEmptyValue(l)>"u"?[]:[l]).pipe(new Ue(p(p({},r),{},{type:v(r.type,n)})));else if(r.typeName==="ZodObject")a=H().transform(l=>typeof l>"u"?{}:l).pipe(new qe(p(p({},r),{},{shape:()=>Object.fromEntries(Object.entries(r.shape()).map(l=>{var[b,j]=l;return[b,v(j,n)]}))})));else if(r.typeName==="ZodEffects")a=new Ke(p(p({},r),{},{schema:v(r.schema,n)}));else if(r.typeName==="ZodOptional")a=H().transform(n.stripEmptyValue).pipe(new Qe(p(p({},r),{},{innerType:v(r.innerType,n)})));else if(r.typeName==="ZodDefault"){var d=r.defaultValue();a=H().transform(n.stripEmptyValue).pipe(v(r.innerType,n).optional()).transform(l=>l??d)}else if(r.typeName==="ZodCatch")a=new Je(p(p({},r),{},{innerType:v(r.innerType,n)}));else if(r.typeName==="ZodIntersection")a=new Xe(p(p({},r),{},{left:v(r.left,n),right:v(r.right,n)}));else if(r.typeName==="ZodUnion")a=new Ye(p(p({},r),{},{options:r.options.map(l=>v(l,n))}));else if(r.typeName==="ZodDiscriminatedUnion")a=H().transform(l=>typeof l>"u"?{}:l).pipe(new et(p(p({},r),{},{options:r.options.map(l=>v(l,n)),optionsMap:new Map(Array.from(r.optionsMap.entries()).map(l=>{var[b,j]=l;return[b,v(j,n)]}))})));else if(r.typeName==="ZodBranded")a=new tt(p(p({},r),{},{type:v(r.type,n)}));else if(r.typeName==="ZodTuple")a=new nt(p(p({},r),{},{items:r.items.map(l=>v(l,n))}));else if(r.typeName==="ZodNullable")a=new rt(p(p({},r),{},{innerType:v(r.innerType,n)}));else if(r.typeName==="ZodPipeline")a=new at(p(p({},r),{},{in:v(r.in,n),out:v(r.out,n)}));else if(r.typeName==="ZodLazy"){var w=r.getter();a=ot(()=>v(w,n))}return e!==a&&n.cache.set(e,a),a}function jt(e,n){var t=(r,u)=>u||(d=>d),a={string:L(J,t()),file:L(bt,t()),number:L(J,t(),t("number",yt)),boolean:L(J,t(),t("boolean",wt)),date:L(J,t(),t("date",xt)),bigint:L(J,t(),t("bigint",Et))};return v(e,{cache:new Map,stripEmptyValue:L(a.string,a.file),coerce:r=>{var u,d=(u=void 0)!==null&&u!==void 0?u:null;return d===null&&(d=St(r,a)),d}})}function Pt(e,n){var t={};for(var a of e.errors){var r=lt(a.path);switch(a.message){case Ee.VALIDATION_UNDEFINED:return null;case Ee.VALIDATION_SKIPPED:t[r]=null;break;default:{var u=t[r];u!==null&&(u?t[r]=u.concat(a):t[r]=[a]);break}}}return Object.entries(t).reduce((d,w)=>{var[l,b]=w;return d[l]=b?n(b):null,d},{})}function Dt(e,n){return it(e,{resolve(t,a){var r=n.errorMap,u=typeof n.schema=="function"?n.schema(a):n.schema,d=n.disableAutoCoercion?u:jt(u),w=l=>{var b;return{value:l.success?l.data:void 0,error:l.success?void 0:Pt(l.error,(b=n.formatError)!==null&&b!==void 0?b:j=>j.map(T=>T.message))}};return n.async?d.safeParseAsync(t,{errorMap:r}).then(l=>w(l)):w(d.safeParse(t,{errorMap:r}))}})}var Ee={VALIDATION_SKIPPED:"__skipped__",VALIDATION_UNDEFINED:"__undefined__"},Mt=Object.defineProperty,Zt=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Ne=(e,n,t)=>n in e?Mt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Tt=(e,n)=>{for(var t in n||(n={}))Pe.call(n,t)&&Ne(e,t,n[t]);if(te)for(var t of te(n))De.call(n,t)&&Ne(e,t,n[t]);return e},It=(e,n)=>Zt(e,Ct(n)),_t=(e,n)=>{var t={};for(var a in e)Pe.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&te)for(var a of te(e))n.indexOf(a)<0&&De.call(e,a)&&(t[a]=e[a]);return t};function At(e){let n=setTimeout(e,0),t=setTimeout(e,10),a=setTimeout(e,50);return[n,t,a]}function Ot(e){let n=o.useRef();return o.useEffect(()=>{n.current=e}),n.current}var kt=18,Me=40,Rt=`${Me}px`,Bt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ft({containerRef:e,inputRef:n,pushPasswordManagerStrategy:t,isFocused:a}){let[r,u]=o.useState(!1),[d,w]=o.useState(!1),[l,b]=o.useState(!1),j=o.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&r&&d,[r,d,t]),T=o.useCallback(()=>{let E=e.current,I=n.current;if(!E||!I||l||t==="none")return;let P=E,Z=P.getBoundingClientRect().left+P.offsetWidth,W=P.getBoundingClientRect().top+P.offsetHeight/2,m=Z-kt,z=W;document.querySelectorAll(Bt).length===0&&document.elementFromPoint(m,z)===E||(u(!0),b(!0))},[e,n,l,t]);return o.useEffect(()=>{let E=e.current;if(!E||t==="none")return;function I(){let Z=window.innerWidth-E.getBoundingClientRect().right;w(Z>=Me)}I();let P=setInterval(I,1e3);return()=>{clearInterval(P)}},[e,t]),o.useEffect(()=>{let E=a||document.activeElement===n.current;if(t==="none"||!E)return;let I=setTimeout(T,0),P=setTimeout(T,2e3),Z=setTimeout(T,5e3),W=setTimeout(()=>{b(!0)},6e3);return()=>{clearTimeout(I),clearTimeout(P),clearTimeout(Z),clearTimeout(W)}},[n,a,t,T]),{hasPWMBadge:r,willPushPWMBadge:j,PWM_BADGE_SPACE_WIDTH:Rt}}var Lt=o.createContext({}),Wt=o.forwardRef((e,n)=>{var t=e,{value:a,onChange:r,maxLength:u,textAlign:d="left",pattern:w,placeholder:l,inputMode:b="numeric",onComplete:j,pushPasswordManagerStrategy:T="increase-width",pasteTransformer:E,containerClassName:I,noScriptCSSFallback:P=Vt,render:Z,children:W}=t,m=_t(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),z,ue,ce,de,pe;let[_e,Ae]=o.useState(typeof m.defaultValue=="string"?m.defaultValue:""),g=a??_e,O=Ot(g),G=o.useCallback(i=>{r==null||r(i),Ae(i)},[r]),M=o.useMemo(()=>w?typeof w=="string"?new RegExp(w):w:null,[w]),h=o.useRef(null),ne=o.useRef(null),re=o.useRef({value:g,onChange:G,isIOS:typeof window<"u"&&((ue=(z=window==null?void 0:window.CSS)==null?void 0:z.supports)==null?void 0:ue.call(z,"-webkit-touch-callout","none"))}),Y=o.useRef({prev:[(ce=h.current)==null?void 0:ce.selectionStart,(de=h.current)==null?void 0:de.selectionEnd,(pe=h.current)==null?void 0:pe.selectionDirection]});o.useImperativeHandle(n,()=>h.current,[]),o.useEffect(()=>{let i=h.current,s=ne.current;if(!i||!s)return;re.current.value!==i.value&&re.current.onChange(i.value),Y.current.prev=[i.selectionStart,i.selectionEnd,i.selectionDirection];function y(){if(document.activeElement!==i){q(null),K(null);return}let f=i.selectionStart,x=i.selectionEnd,ee=i.selectionDirection,D=i.maxLength,R=i.value,C=Y.current.prev,_=-1,A=-1,B;if(R.length!==0&&f!==null&&x!==null){let Fe=f===x,Le=f===R.length&&R.length<D;if(Fe&&!Le){let F=f;if(F===0)_=0,A=1,B="forward";else if(F===D)_=F-1,A=F,B="backward";else if(D>1&&R.length>1){let ie=0;if(C[0]!==null&&C[1]!==null){B=F<C[1]?"backward":"forward";let We=C[0]===C[1]&&C[0]<D;B==="backward"&&!We&&(ie=-1)}_=ie+F,A=ie+F+1}}_!==-1&&A!==-1&&_!==A&&h.current.setSelectionRange(_,A,B)}let ye=_!==-1?_:f,we=A!==-1?A:x,Be=B??ee;q(ye),K(we),Y.current.prev=[ye,we,Be]}if(document.addEventListener("selectionchange",y,{capture:!0}),y(),document.activeElement===i&&ae(!0),!document.getElementById("input-otp-style")){let f=document.createElement("style");if(f.id="input-otp-style",document.head.appendChild(f),f.sheet){let x="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";X(f.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),X(f.sheet,`[data-input-otp]:autofill { ${x} }`),X(f.sheet,`[data-input-otp]:-webkit-autofill { ${x} }`),X(f.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),X(f.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let N=()=>{s&&s.style.setProperty("--root-height",`${i.clientHeight}px`)};N();let S=new ResizeObserver(N);return S.observe(i),()=>{document.removeEventListener("selectionchange",y,{capture:!0}),S.disconnect()}},[]);let[fe,me]=o.useState(!1),[U,ae]=o.useState(!1),[k,q]=o.useState(null),[V,K]=o.useState(null);o.useEffect(()=>{At(()=>{var i,s,y,N;(i=h.current)==null||i.dispatchEvent(new Event("input"));let S=(s=h.current)==null?void 0:s.selectionStart,f=(y=h.current)==null?void 0:y.selectionEnd,x=(N=h.current)==null?void 0:N.selectionDirection;S!==null&&f!==null&&(q(S),K(f),Y.current.prev=[S,f,x])})},[g,U]),o.useEffect(()=>{O!==void 0&&g!==O&&O.length<u&&g.length===u&&(j==null||j(g))},[u,j,O,g]);let $=Ft({containerRef:ne,inputRef:h,pushPasswordManagerStrategy:T,isFocused:U}),ge=o.useCallback(i=>{let s=i.currentTarget.value.slice(0,u);if(s.length>0&&M&&!M.test(s)){i.preventDefault();return}typeof O=="string"&&s.length<O.length&&document.dispatchEvent(new Event("selectionchange")),G(s)},[u,G,O,M]),he=o.useCallback(()=>{var i;if(h.current){let s=Math.min(h.current.value.length,u-1),y=h.current.value.length;(i=h.current)==null||i.setSelectionRange(s,y),q(s),K(y)}ae(!0)},[u]),ve=o.useCallback(i=>{var s,y;let N=h.current;if(!E&&(!re.current.isIOS||!i.clipboardData||!N))return;let S=i.clipboardData.getData("text/plain"),f=E?E(S):S;i.preventDefault();let x=(s=h.current)==null?void 0:s.selectionStart,ee=(y=h.current)==null?void 0:y.selectionEnd,D=(x!==ee?g.slice(0,x)+f+g.slice(ee):g.slice(0,x)+f+g.slice(x)).slice(0,u);if(D.length>0&&M&&!M.test(D))return;N.value=D,G(D);let R=Math.min(D.length,u-1),C=D.length;N.setSelectionRange(R,C),q(R),K(C)},[u,G,M,g]),Oe=o.useMemo(()=>({position:"relative",cursor:m.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[m.disabled]),be=o.useMemo(()=>({position:"absolute",inset:0,width:$.willPushPWMBadge?`calc(100% + ${$.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:$.willPushPWMBadge?`inset(0 ${$.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:d,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[$.PWM_BADGE_SPACE_WIDTH,$.willPushPWMBadge,d]),ke=o.useMemo(()=>o.createElement("input",It(Tt({autoComplete:m.autoComplete||"one-time-code"},m),{"data-input-otp":!0,"data-input-otp-placeholder-shown":g.length===0||void 0,"data-input-otp-mss":k,"data-input-otp-mse":V,inputMode:b,pattern:M==null?void 0:M.source,"aria-placeholder":l,style:be,maxLength:u,value:g,ref:h,onPaste:i=>{var s;ve(i),(s=m.onPaste)==null||s.call(m,i)},onChange:ge,onMouseOver:i=>{var s;me(!0),(s=m.onMouseOver)==null||s.call(m,i)},onMouseLeave:i=>{var s;me(!1),(s=m.onMouseLeave)==null||s.call(m,i)},onFocus:i=>{var s;he(),(s=m.onFocus)==null||s.call(m,i)},onBlur:i=>{var s;ae(!1),(s=m.onBlur)==null||s.call(m,i)}})),[ge,he,ve,b,be,u,V,k,m,M==null?void 0:M.source,g]),oe=o.useMemo(()=>({slots:Array.from({length:u}).map((i,s)=>{var y;let N=U&&k!==null&&V!==null&&(k===V&&s===k||s>=k&&s<V),S=g[s]!==void 0?g[s]:null,f=g[0]!==void 0?null:(y=l==null?void 0:l[s])!=null?y:null;return{char:S,placeholderChar:f,isActive:N,hasFakeCaret:N&&S===null}}),isFocused:U,isHovering:!m.disabled&&fe}),[U,fe,u,V,k,m.disabled,g]),Re=o.useMemo(()=>Z?Z(oe):o.createElement(Lt.Provider,{value:oe},W),[W,oe,Z]);return o.createElement(o.Fragment,null,P!==null&&o.createElement("noscript",null,o.createElement("style",null,P)),o.createElement("div",{ref:ne,"data-input-otp-container":!0,style:Oe,className:I},Re,o.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ke)))});Wt.displayName="Input";function X(e,n){try{e.insertRule(n)}catch{console.error("input-otp could not insert CSS rule:",n)}}var Vt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Ze=o.forwardRef(({className:e,type:n,...t},a)=>c.jsx("input",{type:n,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));Ze.displayName="Input";var $t="Label",Ce=o.forwardRef((e,n)=>c.jsx(st.label,{...e,ref:n,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Ce.displayName=$t;var Te=Ce;const Ht=ut,zt=(e,n)=>t=>Ht(e,t==null?void 0:t.class,t==null?void 0:t.className),Gt=zt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=o.forwardRef(({className:e,...n},t)=>c.jsx(Te,{ref:t,className:je(Gt(),e),...n}));Ie.displayName=Te.displayName;function Ut({id:e,errors:n}){const t=n==null?void 0:n.filter(Boolean);return t!=null&&t.length?c.jsx("ul",{id:e,className:"flex flex-col gap-1",children:t.map(a=>c.jsx("li",{className:"text-foreground-destructive text-[10px]",children:a},a))}):null}function se({labelProps:e,inputProps:n,errors:t,className:a}){const r=o.useId(),u=n.id??r,d=t!=null&&t.length?`${u}-error`:void 0;return c.jsxs("div",{className:a,children:[c.jsx(Ie,{htmlFor:u,...e}),c.jsx(Ze,{id:u,"aria-invalid":d?!0:void 0,"aria-describedby":d,...n}),c.jsx("div",{className:"min-h-[32px] px-4 pt-1 pb-3",children:d?c.jsx(Ut,{id:d,errors:t}):null})]})}function qt({button:e}){ct(Se.organisation.create),Ve();const[n,t]=dt({id:"organisation-form",constraint:pt(xe),onSubmit:(a,{submission:r})=>{a.preventDefault(),(r==null?void 0:r.status)==="success"&&console.log("Gaat goed?",r.value)},onValidate({formData:a}){return Dt(a,{schema:xe})},shouldValidate:"onBlur"});return c.jsxs(ft,{children:[c.jsx(mt,{asChild:!0,children:e}),c.jsx(gt,{children:c.jsxs("form",{...ht(n),children:[c.jsx(se,{labelProps:{children:"New Password"},inputProps:{...le(t.password,{type:"password"}),autoComplete:"new-password"},errors:t.password.errors}),c.jsx(se,{labelProps:{children:"Korte naam"},inputProps:{...le(t.nameShort,{type:"text"}),autoComplete:"new-password"},errors:t.nameShort.errors}),c.jsx(se,{labelProps:{children:"Slug"},inputProps:{...le(t.slug,{type:"text"}),autoComplete:"new-password"},errors:t.slug.errors}),c.jsx("button",{children:"Opslaan"})]})})]})}const Xt=function(){const{data:n}=Ge($e(Se.organisation.getAll,{}));return c.jsxs("div",{className:"h-full flex flex-col gap-4 p-12",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{children:"Organisaties"}),c.jsx(qt,{button:c.jsx("button",{children:"Nieuwe Organisatie"})})]}),c.jsx("ul",{className:"grid grid-cols-4 gap-12",children:n.map(t=>c.jsx(He,{to:"/organisations/$id",params:{id:t._id},className:"flex aspect-square border border-gray-400 rounded-md overflow-hidden",children:c.jsx("div",{className:"bg-gray-100 w-full border-t border-gray-200 place-self-end p-2 h-16",children:c.jsx("p",{className:"text-sm",children:t.name})})},t._id))}),c.jsx("div",{className:"flex-1 border border-fuchsia-400",children:c.jsx(ze,{})})]})};export{Xt as component};
